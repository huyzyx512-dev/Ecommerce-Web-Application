@model PaginationSearchResult<Shipper>
@{
    Layout = null;
}


<div>
    <p style="margin:10px 0 10px 0">
        Có <strong>@Model.RowCount</strong> người giao hàng trong tổng số <strong>@Model.PageCount</strong> trang
    </p>

    <div class="table-responsive">
        <table class="table table-bordered table-hover table-striped">
            <thead>
                <tr class="bg-primary">
                    <th>Tên người giao hàng</th>
                    <th>Điện thoại</th>
                    <th style="width:80px"></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var sp in Model.Data)
                {
                    <tr>
                        <td>@sp.ShipperName</td>
                        <td>@sp.Phone</td>
                        <td class="text-right">
                            <a href="~/Shipper/Edit/@sp.ShipperID" class="btn btn-xs btn-info">
                                <i class="fa fa-edit"></i>
                            </a>
                            <a href="~/Shipper/Delete/@sp.ShipperID" class="btn btn-xs btn-danger">
                                <i class="fa fa-remove"></i>
                            </a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>

    @if (Model.PageCount > 1)
    {
        <div style="text-align:center; margin:20px 0;">
            <ul style="
                                list-style:none;
                                padding:0;
                                margin:0;
                                display:flex;
                                justify-content:center;
                                align-items:center;
                                gap:8px;
                            ">
                @{
                    int current = Model.Page;
                    int total = Model.PageCount;
                }

                <!-- First -->
                @if (current > 1)
                {
                    <li>
                        <a href="javascript:;" onclick="searchData(1)" style="
                                                                padding:6px 12px;
                                                                border:1px solid #ccc;
                                                                background:#f2f2f2;
                                                                border-radius:6px;
                                                                text-decoration:none;
                                                                color:#333;
                                                            ">«</a>
                    </li>
                }

                <!-- Prev -->
                @if (current > 1)
                {
                    <li>
                        <a href="javascript:;" onclick="searchData(@(current - 1))" style="
                                                                padding:6px 12px;
                                                                border:1px solid #ccc;
                                                                background:#f2f2f2;
                                                                border-radius:6px;
                                                                text-decoration:none;
                                                                color:#333;
                                                            ">‹</a>
                    </li>
                }

                <!-- Left dots -->
                @if (current > 3)
                {
                    <li style="color:#777;">...</li>
                }

                <!-- Pages around current -->
                @for (int p = current - 1; p <= current + 1; p++)
                {
                    if (p >= 1 && p <= total)
                    {
                        if (p == current)
                        {
                            <li>
                                <span style="
                                                                                                                padding:6px 12px;
                                                                                                                background:#007bff;
                                                                                                                color:white;
                                                                                                                border-radius:6px;
                                                                                                                font-weight:bold;
                                                                                                            ">@p</span>
                            </li>
                        }
                        else
                        {
                            <li>
                                <a href="javascript:;" onclick="searchData(@p)" style="
                                                                                                                padding:6px 12px;
                                                                                                                border:1px solid #ccc;
                                                                                                                background:#f2f2f2;
                                                                                                                border-radius:6px;
                                                                                                                text-decoration:none;
                                                                                                                color:#333;
                                                                                                            ">@p</a>
                            </li>
                        }
                    }
                }

                <!-- Right dots -->
                @if (current < total - 2)
                {
                    <li style="color:#777;">...</li>
                }

                <!-- Next -->
                @if (current < total)
                {
                    <li>
                        <a href="javascript:;" onclick="searchData(@(current + 1))" style="
                                                                padding:6px 12px;
                                                                border:1px solid #ccc;
                                                                background:#f2f2f2;
                                                                border-radius:6px;
                                                                text-decoration:none;
                                                                color:#333;
                                                            ">›</a>
                    </li>
                }

                <!-- Last -->
                @if (current < total)
                {
                    <li>
                        <a href="javascript:;" onclick="searchData(@total)" style="
                                                                padding:6px 12px;
                                                                border:1px solid #ccc;
                                                                background:#f2f2f2;
                                                                border-radius:6px;
                                                                text-decoration:none;
                                                                color:#333;
                                                            ">»</a>
                    </li>
                }
            </ul>
        </div>
    }
</div>